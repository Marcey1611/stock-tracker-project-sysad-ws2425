@startuml

actor "DatabaseService" as Database
participant "Api" as API
participant "ApiBF" as ApiBF
participant "MailPreparingServiceBa" as MailPreparingService
participant "MailSendingServiceBa" as MailSendingService
participant "Gmail" as Gmail

Database -> API: POST /send_update_mail
API -> API: Validate request
API -> ApiBF: Prepare mailing data
ApiBF -> MailPreparingService: Prepare mail
MailPreparingService -> MailSendingService: Send mail
MailSendingService -> Gmail: Send email with configured message
Gmail --> MailSendingService: Email sent confirmation
MailSendingService --> MailPreparingService: Success
MailPreparingService --> ApiBF: Success
ApiBF --> API: Success response
API --> Database: JSONResponse (email sent)

@enduml